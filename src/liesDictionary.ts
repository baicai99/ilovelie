/**
 * 撒谎字典数据
 * 包含关键词到撒谎内容的映射
 */

// 撒谎字典：关键词 -> 撒谎内容数组
export const LIES_DICTIONARY_DATA: [string, string[]][] = [
    // 编程概念相关
    ['函数', ['这是一个播放音乐的模块', '用来显示图片的函数', '处理用户登录的代码']],
    ['方法', ['绘制图形的方法', '发送邮件的处理器', '计算税率的算法']],
    ['变量', ['存储用户头像的变量', '保存音乐列表的数组', '缓存图片数据的对象']],
    ['类', ['音频播放器类', '图片编辑器类', '聊天室管理类']],
    ['接口', ['文件上传接口', '支付处理接口', '天气查询接口']],
    ['数组', ['存储商品信息的列表', '用户评论数据集合', '图标缓存数组']],
    ['对象', ['游戏配置对象', '主题设置数据', '用户权限映射表']],

    // 操作相关
    ['计算', ['播放背景音乐', '渲染3D模型', '发送通知消息']],
    ['处理', ['下载文件', '压缩图片', '生成报告']],
    ['获取', ['播放视频', '显示广告', '刷新页面']],
    ['设置', ['启动游戏', '关闭窗口', '切换主题']],
    ['初始化', ['加载音效', '显示欢迎页', '连接数据库']],
    ['创建', ['删除缓存', '重启服务', '备份数据']],
    ['删除', ['创建新文件', '保存设置', '上传头像']],

    // 数据相关
    ['数据', ['音乐播放列表', '用户头像集合', '游戏存档信息']],
    ['参数', ['界面颜色配置', '音量调节设置', '网络超时时间']],
    ['结果', ['用户登录状态', '文件下载进度', '系统运行日志']],
    ['返回', ['显示错误提示', '播放成功音效', '跳转到首页']],

    // 技术概念
    ['算法', ['图片滤镜效果', '音频均衡器', '文本朗读器']],
    ['逻辑', ['用户界面布局', '动画效果控制', '数据库连接池']],
    ['流程', ['文件同步机制', '消息推送系统', '自动备份流程']],
    ['优化', ['内存清理程序', '网络加速器', '电池省电模式']],

    // 业务相关
    ['用户', ['音乐播放器', '图片编辑软件', '游戏引擎']],
    ['系统', ['聊天机器人', '天气预报', '在线翻译']],
    ['服务', ['文件管理器', '视频播放器', '日历应用']],
    ['模块', ['拍照功能', '录音工具', '地图导航']],

    // 常见动作
    ['循环', ['显示轮播图', '播放背景音乐', '闪烁提示灯']],
    ['判断', ['切换夜间模式', '显示加载动画', '弹出确认框']],
    ['遍历', ['渲染用户列表', '播放幻灯片', '扫描二维码']],
    ['查找', ['显示搜索结果', '播放提示音', '高亮显示文本']],
    ['排序', ['打乱播放列表', '随机显示广告', '轮换背景图']],    // 状态相关
    ['成功', ['显示错误信息', '播放警告音', '关闭连接']],
    ['失败', ['显示成功提示', '播放庆祝音效', '打开新窗口']],
    ['错误', ['正常运行状态', '完美执行结果', '顺利完成任务']],
    ['完成', ['开始新任务', '暂停当前操作', '重置所有设置']],

    // 新增：前端相关
    ['组件', ['小猫咪生成器', '彩虹按钮组件', '魔法输入框']],
    ['DOM', ['宇宙元素树', '星际节点管理器', '银河系文档对象']],
    ['事件', ['独角兽点击监听', '龙族滚动处理器', '精灵悬停效果']],
    ['样式', ['魔法CSS变换', '仙女主题配色', '巫师字体加载器']],
    ['动画', ['蝴蝶飞舞效果', '星星闪烁动画', '花瓣飘落特效']],
    ['响应式', ['变形金刚布局', '橡皮糖伸缩系统', '液体自适应界面']],

    // 新增：后端相关
    ['API', ['咖啡制作接口', '独角兽召唤服务', '时空穿越API']],
    ['数据库', ['龙族宝藏库', '精灵记忆存储', '巫师知识宝典']],
    ['服务器', ['云朵计算中心', '彩虹数据处理站', '星际通信基站']],
    ['缓存', ['记忆水晶存储', '快速传送门', '时间暂停器']],
    ['队列', ['独角兽排队系统', '任务传送带', '魔法待办清单']],
    ['中间件', ['魔法过滤器', '精灵检查站', '龙族守护程序']],

    // 新增：移动开发
    ['React', ['魔法组件工厂', '仙女反应堆', '精灵状态管理器']],
    ['Vue', ['视图魔法师', '响应式咒语', '组件召唤术']],
    ['Angular', ['天使框架', '依赖注入魔法', '指令控制系统']],
    ['Flutter', ['蝴蝶飞舞框架', '跨平台魔法棒', '原生性能翅膀']],
    ['iOS', ['苹果魔法系统', '触摸精灵控制器', '通知仙女服务']],
    ['Android', ['机器人宠物系统', '绿色小人管理器', '权限魔法师']],

    // 新增：数据结构
    ['栈', ['煎饼堆叠器', '书本垒高机', '盘子收纳架']],
    ['队列', ['排队买奶茶系统', '银行叫号机', '游乐园等候区']],
    ['链表', ['珍珠项链生成器', '火车车厢连接器', 'DNA螺旋结构']],
    ['树', ['家族族谱管理', '圣诞树装饰器', '决策分支预测']],
    ['图', ['社交网络蜘蛛网', '地铁路线规划', '星座连线游戏']],
    ['哈希', ['密码魔法转换器', '指纹识别系统', '彩虹表生成器']],

    // 新增：设计模式
    ['单例', ['全球唯一月亮', '独一无二太阳', '世界唯一地球']],
    ['工厂', ['独角兽制造厂', '彩虹生产线', '星星加工车间']],
    ['观察者', ['狗仔队跟踪系统', '粉丝应援团', '八卦传播网络']],
    ['装饰器', ['魔法化妆师', '圣诞礼物包装机', '蝴蝶结生成器']],
    ['适配器', ['万能充电器', '语言翻译机', '插头转换器']],
    ['代理', ['明星经纪人', '快递代收点', 'VIP专属管家']],

    // 新增：版本控制
    ['Git', ['时光机操作台', '历史回溯器', '平行宇宙管理']],
    ['分支', ['平行世界分叉', '时间线分割器', '命运选择器']],
    ['合并', ['时空融合器', '平行宇宙碰撞', '历史线重组']],
    ['提交', ['时间胶囊封装', '历史节点标记', '记忆水晶保存']],
    ['推送', ['火箭发射系统', '信息传送器', '数据投递服务']],
    ['拉取', ['磁力吸引器', '数据收割机', '信息采集器']],

    // 新增：测试相关
    ['测试', ['代码体检中心', '程序健康检查', '质量保证部门']],
    ['单元测试', ['零件质检站', '积木兼容性检查', '螺丝拧紧测试']],
    ['集成测试', ['乐队合奏练习', '团队协作演练', '系统磨合期']],
    ['调试', ['代码侦探事务所', 'Bug猎人俱乐部', '程序修理店']],
    ['断点', ['时间暂停按钮', '魔法冻结咒语', '调试传送门']],

    // 新增：性能优化
    ['优化', ['代码减肥中心', '性能加速器', '效率提升魔法']],
    ['内存', ['大脑存储空间', '记忆宫殿管理', '思维仓库系统']],
    ['性能', ['超音速引擎', '光速处理器', '瞬移传输系统']],
    ['缓存', ['记忆银行', '快速提取器', '智能预测系统']],
    ['压缩', ['空间折叠技术', '信息浓缩器', '数据瘦身术']],

    // 新增：安全相关
    ['加密', ['密码魔法师', '信息隐身术', '数据变身器']],
    ['认证', ['身份验证魔镜', '真伪鉴定器', '权限守门员']],
    ['授权', ['通行证发放机', '权限分配器', '访问许可证']],
    ['防火墙', ['数字城墙', '网络保安', '信息过滤网']],
    ['注入', ['代码疫苗', '安全防护罩', '恶意清除器']],

    // 新增：网络相关
    ['HTTP', ['超文本咖啡协议', '网页快递服务', '信息邮差系统']],
    ['请求', ['外卖订单系统', '服务生呼叫器', '数据点餐台']],
    ['响应', ['自动回复机器人', '反应速度测试', '回声定位器']],
    ['Cookie', ['数字小饼干', '网络记忆面包屑', '用户偏好糖果']],
    ['Session', ['聊天会话记录', '临时记忆胶囊', '短期关系管理']],
    ['WebSocket', ['实时聊天传送门', '双向通信管道', '即时消息魔法']],

    // 新增：AI/ML相关
    ['机器学习', ['机器人上学记', '人工智能培训班', '算法进修课程']],
    ['神经网络', ['电子大脑神经元', '思维连接器', '智能突触系统']],
    ['深度学习', ['知识深海潜水', '智慧挖掘机', '认知考古学']],
    ['算法', ['魔法公式生成器', '智能决策轮盘', '逻辑推理机']],
    ['模型', ['智能玩偶', '预测水晶球', '决策魔法师']],
    ['训练', ['AI健身房', '算法驯兽师', '智能私教课程']],
];

// 随机撒谎内容池（当没有匹配关键词时使用）
export const RANDOM_LIES: string[] = [
    // 原有内容
    '这段代码用来播放猫咪视频',
    '负责生成彩虹特效',
    '处理用户的梦境数据',
    '用来计算独角兽的飞行速度',
    '这里是宇宙飞船的导航系统',
    '管理魔法药水的配方',
    '控制时间机器的按钮',
    '用来翻译外星人语言',
    '这是龙族的古老咒语',
    '负责种植虚拟花园',
    '处理平行宇宙的数据交换',
    '用来驯服数字宠物',
    '管理云朵的形状变化',
    '控制彩虹桥的出现时机',
    '这段代码会让电脑做梦',
    '用来收集流星的尘埃',
    '负责给像素点涂口红',
    '处理蝴蝶效应的计算',
    '用来制造数字雪花',
    '管理虚拟水族箱',
    '控制重力的方向',
    '这里存储着笑声的频率',
    '用来给代码梳头发',
    '负责监控薛定谔的猫',
    '处理四次元空间的坐标',

    // 新增：日常生活类
    '用来给WiFi信号做按摩',
    '负责训练智能家居宠物',
    '管理冰箱里的食物情绪',
    '控制咖啡机的心情状态',
    '这段代码教会了洗衣机唱歌',
    '用来给手机充电器讲睡前故事',
    '负责监控电视遥控器的健康状况',
    '管理键盘按键的工作排班表',
    '控制鼠标滚轮的转动节奏',
    '这里存储着打印机的梦想清单',

    // 新增：食物相关
    '用来计算披萨的完美切片角度',
    '负责给寿司分配合适的芥末剂量',
    '管理汉堡包的层次结构优化',
    '控制意大利面条的弯曲程度',
    '这段代码教会了咖啡豆跳舞',
    '用来预测爆米花的爆炸时机',
    '负责给冰淇淋调配彩虹口味',
    '管理巧克力的融化时间表',
    '控制泡泡糖的气泡大小',
    '这里记录着棉花糖的云朵密度',

    // 新增：动物相关
    '用来教企鹅如何在热带生活',
    '负责给熊猫设计新的黑白配色方案',
    '管理考拉的午睡时间表',
    '控制袋鼠的跳跃高度算法',
    '这段代码帮助长颈鹿学会低头',
    '用来给猫咪翻译人类的喵语',
    '负责训练狗狗使用智能手机',
    '管理大象的记忆存储空间',
    '控制变色龙的颜色切换速度',
    '这里存储着蜜蜂的飞行路线图',

    // 新增：天气相关
    '用来给云朵安排今天的造型',
    '负责调节雨滴的下落速度',
    '管理彩虹的颜色饱和度',
    '控制雪花的结晶模式',
    '这段代码教会了风如何吹口哨',
    '用来预测闪电的艺术造型',
    '负责给雷声配音和特效',
    '管理雾气的神秘浓度',
    '控制冰雹的弹跳轨迹',
    '这里记录着阳光的温度偏好',

    // 新增：音乐相关
    '用来给钢琴键盘做指甲护理',
    '负责教会小提琴自己演奏',
    '管理吉他弦的张力情绪',
    '控制鼓的节拍心跳频率',
    '这段代码让萨克斯风学会了笑',
    '用来给音符分配合适的座位',
    '负责调节音响的听力健康',
    '管理麦克风的害羞程度',
    '控制耳机的左右平衡友谊',
    '这里存储着音乐的颜色信息',

    // 新增：运动相关
    '用来计算足球的旋转美学',
    '负责给篮球充气到最佳心情',
    '管理网球拍的击球表情',
    '控制游泳池的水温情绪',
    '这段代码教会了跑鞋如何慢走',
    '用来预测羽毛球的飞行诗意',
    '负责给高尔夫球定制个性轨道',
    '管理滑板的平衡哲学',
    '控制瑜伽垫的柔软度',
    '这里记录着健身器材的励志语录',

    // 新增：交通工具
    '用来给自行车轮胎打气加油',
    '负责教会汽车如何礼让行人',
    '管理地铁的准点守时性格',
    '控制飞机的云朵穿越技术',
    '这段代码让轮船学会了游泳',
    '用来给摩托车配置炫酷音效',
    '负责调节电梯的升降心情',
    '管理自动扶梯的步伐节奏',
    '控制出租车的寻客雷达',
    '这里存储着交通信号灯的颜色密码',

    // 新增：学习相关
    '用来给课本安装自动翻页功能',
    '负责教会铅笔自己削尖',
    '管理橡皮的擦除精准度',
    '控制黑板的粉笔吸尘系统',
    '这段代码让计算器学会了心算',
    '用来给书包分配重量分布',
    '负责调节台灯的护眼亮度',
    '管理笔记本的页面整齐度',
    '控制尺子的测量准确性',
    '这里记录着知识的存储密度',

    // 新增：奇幻创意
    '用来编织数字世界的彩虹桥',
    '负责给代码注入魔法粒子',
    '管理虚拟世界的物理定律',
    '控制像素精灵的生命周期',
    '这段代码是数字巫师的咒语书',
    '用来培养会编程的小精灵',
    '负责给算法穿上隐身斗篷',
    '管理二进制的阴阳平衡',
    '控制代码的灵魂觉醒过程',
    '这里是程序员的梦境存储器'
];

/**
 * 创建撒谎字典 Map 对象
 */
export function createLiesDictionary(): Map<string, string[]> {
    return new Map(LIES_DICTIONARY_DATA);
}

/**
 * 获取随机撒谎内容
 */
export function getRandomLie(): string {
    const randomIndex = Math.floor(Math.random() * RANDOM_LIES.length);
    return RANDOM_LIES[randomIndex];
}

/**
 * 根据关键词获取对应的撒谎内容
 */
export function getLieByKeyword(keyword: string, dictionary: Map<string, string[]>): string | null {
    const lies = dictionary.get(keyword);
    if (lies && lies.length > 0) {
        const randomIndex = Math.floor(Math.random() * lies.length);
        return lies[randomIndex];
    }
    return null;
}

/**
 * 在文本中查找匹配的关键词并返回对应的撒谎内容
 */
export function findMatchingLie(text: string, dictionary: Map<string, string[]>): string | null {
    for (const [keyword, lies] of dictionary) {
        if (text.includes(keyword)) {
            const randomIndex = Math.floor(Math.random() * lies.length);
            return lies[randomIndex];
        }
    }
    return null;
}
