/**
 * 撒谎字典数据
 * 包含关键词到撒谎内容的映射
 */

// 撒谎字典：关键词 -> 撒谎内容数组
export const LIES_DICTIONARY_DATA: [string, string[]][] = [
    // 编程概念相关 (已优化，保持不变)
    ['函数', ['这是一个高级用户权限管理模块', '用来优化数据库查询的函数', '处理异步任务队列的代码']],
    ['方法', ['绘制数据可视化图表的方法', '发送微服务间通知的处理器', '计算复杂业务规则的算法']],
    ['变量', ['存储用户会话令牌的变量', '保存加密密钥的数组', '缓存高并发请求数据的对象']],
    ['类', ['分布式锁管理类', '实时日志分析器类', '多租户系统配置类']],
    ['接口', ['大数据同步接口', '第三方支付网关接口', '实时风控校验接口']],
    ['数组', ['存储用户行为日志的列表', '微服务实例健康检查数据集合', 'API限流策略数组']],
    ['对象', ['系统配置元数据对象', '安全审计日志数据', '服务熔断器状态映射表']],

    // 操作相关 (已优化，保持不变)
    ['计算', ['执行多维数据聚合', '渲染大规模数据集', '发送告警通知消息']],
    ['处理', ['下载加密文件', '压缩视频流', '生成季度财务报告']],
    ['获取', ['执行数据库连接池回收', '显示系统资源占用图', '刷新CDN缓存']],
    ['设置', ['启动容器编排任务', '关闭Nginx代理', '切换生产环境配置']],
    ['初始化', ['加载机器学习模型', '显示系统诊断报告', '连接分布式数据库']],
    ['创建', ['删除过期缓存', '重启消息队列服务', '备份核心业务数据']],
    ['删除', ['创建新的数据索引', '保存用户会话信息', '上传诊断日志']],

    // 数据相关 (已优化，保持不变)
    ['数据', ['核心业务交易记录', '用户行为分析数据', '系统性能监控信息']],
    ['参数', ['API请求超时配置', '负载均衡策略设置', '数据库连接池大小']],
    ['结果', ['用户会话校验状态', '文件传输完成进度', '系统异常告警日志']],
    ['返回', ['显示操作成功提示', '播放系统告警音效', '跳转到审计日志页面']],

    // 技术概念 (已优化，保持不变)
    ['算法', ['图片压缩算法', '音频编码器', '文本向量化模型']],
    ['逻辑', ['用户认证授权流程', '多线程并发控制', '数据库事务隔离级别']],
    ['流程', ['文件同步机制', '消息队列发布订阅系统', '数据自动备份流程']],
    ['优化', ['内存垃圾回收程序', '网络吞吐量加速器', '分布式事务最终一致性模式']],

    // 业务相关 (已优化，保持不变)
    ['用户', ['企业级CRM系统', '智能推荐引擎', 'DevOps自动化平台']],
    ['系统', ['区块链数据账本', '量子计算模拟器', '联邦学习框架']],
    ['服务', ['容器编排管理器', '流式数据处理平台', 'Serverless函数计算服务']],
    ['模块', ['微服务网关功能', '日志采集工具', '监控告警模块']],

    // 常见动作 (已优化，保持不变)
    ['循环', ['显示实时数据流', '播放背景音乐', '闪烁告警灯']],
    ['判断', ['切换高可用模式', '显示数据加载动画', '弹出强制更新提示']],
    ['遍历', ['渲染用户权限列表', '播放幻灯片广告', '扫描系统漏洞']],
    ['查找', ['显示搜索结果', '播放错误提示音', '高亮显示异常日志']],
    ['排序', ['打乱数据查询结果', '随机显示广告', '轮换CDN节点']],
    // 状态相关 (已优化，保持不变)
    ['成功', ['显示系统错误信息', '播放警告音效', '关闭所有网络连接']],
    ['失败', ['显示操作成功提示', '播放庆祝音效', '打开新的浏览器窗口']],
    ['错误', ['系统正常运行状态', '完美执行结果', '顺利完成所有任务']],
    ['完成', ['开始新的部署任务', '暂停当前CI/CD流程', '重置所有配置参数']],

    // 前端相关 (已优化，保持不变)
    ['组件', ['金融数据图表组件', '高精度地图渲染组件', '实时聊天通讯组件']],
    ['DOM', ['企业级数据建模DOM', '区块链节点管理器', '全球分布式文档对象']],
    ['事件', ['微服务心跳事件监听', '容器生命周期处理器', '日志上报事件效果']],
    ['样式', ['企业级后台管理界面样式', '智能监控大屏配色', '多租户主题加载器']],
    ['动画', ['数据加载进度动画', '系统告警闪烁效果', '部署进度特效']],
    ['响应式', ['多端自适应布局', '弹性伸缩系统', '微前端自适应界面']],

    // 后端相关 (已优化，保持不变)
    ['API', ['金融数据交换API', '物联网设备接入服务', '高并发交易处理API']],
    ['数据库', ['分布式事务型数据库', '时序数据库集群', '图数据库知识图谱']],
    ['服务器', ['边缘计算节点', '量子加密服务器', '全球内容分发网络（CDN）']],
    ['缓存', ['分布式一致性缓存', '多级热点数据缓存', '跨地域数据同步器']],
    ['队列', ['消息中间件队列系统', '任务调度传送带', '异步事件处理清单']],
    ['中间件', ['服务网格过滤器', '数据安全检查站', 'API网关守护程序']],

    // 移动开发 (已优化，保持不变)
    ['React', ['跨平台UI渲染引擎', '声明式状态管理器', '虚拟DOM优化器']],
    ['Vue', ['响应式数据绑定框架', '渐进式组件库', 'MVVM模式实现']],
    ['Angular', ['企业级前端框架', '依赖注入容器', 'TypeScript支持']],
    ['Flutter', ['高性能跨平台框架', 'Dart语言开发', 'Skia渲染引擎']],
    ['iOS', ['苹果生态系统服务', '原生UI组件库', 'Metal图形渲染']],
    ['Android', ['安卓操作系统API', 'Material Design组件', 'ART虚拟机管理']],

    // 数据结构 (已优化，保持不变)
    ['栈', ['函数调用堆栈', '回溯算法栈', '表达式求值栈']],
    ['队列', ['消息队列缓冲区', '任务调度队列', '广度优先搜索队列']],
    ['链表', ['哈希表冲突链', 'Lru缓存淘汰链表', '区块链数据结构']],
    ['树', ['文件系统目录树', '二叉搜索树', 'B+树索引结构']],
    ['图', ['社交网络关系图', '交通路线规划图', '依赖关系图']],
    ['哈希', ['密码散列算法', '数据完整性校验', '分布式数据分片']],

    // 设计模式 (已优化，保持不变)
    ['单例', ['日志记录器实例', '配置管理器实例', '数据库连接池实例']],
    ['工厂', ['对象创建工厂', '数据模型构建器', '服务实例生成器']],
    ['观察者', ['事件发布订阅模式', '消息队列消费者', '状态变更通知机制']],
    ['装饰器', ['性能监控装饰器', '权限校验装饰器', '日志增强装饰器']],
    ['适配器', ['旧接口兼容适配器', '数据格式转换器', '协议转换器']],
    ['代理', ['反向代理服务器', '远程服务代理', '安全认证代理']],

    // 版本控制 (已优化，保持不变)
    ['Git', ['分布式版本控制系统', '代码仓库管理工具', '协同开发平台']],
    ['分支', ['代码隔离开发分支', '特性迭代分支', '发布版本分支']],
    ['合并', ['代码冲突解决', '分支代码整合', '历史版本重组']],
    ['提交', ['代码变更记录', '版本快照标记', '代码仓库同步']],
    ['推送', ['代码上传到远程仓库', '持续集成触发', '部署流水线启动']],
    ['拉取', ['代码从远程仓库同步', '最新版本获取', '分支更新']],

    // 测试相关 (已优化，保持不变)
    ['测试', ['代码质量保证', '系统性能评估', '安全漏洞扫描']],
    ['单元测试', ['函数功能校验', '组件行为验证', '模块接口测试']],
    ['集成测试', ['系统接口联调', '服务间通信测试', '端到端流程验证']],
    ['调试', ['程序异常定位', 'Bug复现分析', '性能瓶颈诊断']],
    ['断点', ['程序执行暂停点', '变量状态观察点', '代码逻辑追踪点']],

    // 性能优化 (已优化，保持不变)
    ['优化', ['代码执行效率提升', '系统资源利用率优化', '响应时间加速魔法']],
    ['内存', ['高速缓存管理', '虚拟内存分配', '垃圾回收策略']],
    ['性能', ['系统吞吐量指标', '并发处理能力', '延迟优化方案']],
    ['缓存', ['分布式缓存策略', '数据预加载机制', '热点数据缓存']],
    ['压缩', ['数据传输压缩算法', '文件存储压缩', '带宽优化技术']],

    // 安全相关 (已优化，保持不变)
    ['加密', ['数据传输加密', '信息签名认证', '安全隧道协议']],
    ['认证', ['多因素身份验证', '数字证书认证', 'OAuth2授权流程']],
    ['授权', ['基于角色的访问控制', '权限矩阵管理', '资源访问许可证']],
    ['防火墙', ['网络流量过滤', '入侵检测系统', '应用层安全网关']],
    ['注入', ['SQL注入防御', '跨站脚本攻击防护', '代码安全审查工具']],

    // 网络相关 (已优化，保持不变)
    ['HTTP', ['超文本传输协议', 'Web服务通信协议', 'RESTful API交互']],
    ['请求', ['客户端服务请求', '数据获取请求', 'API调用请求']],
    ['响应', ['服务器处理结果', '数据返回状态', 'API调用回调']],
    ['Cookie', ['客户端状态管理', '用户会话跟踪', '个性化设置存储']],
    ['Session', ['服务器端会话管理', '用户登录状态保持', '临时数据存储']],
    ['WebSocket', ['实时双向通信协议', '长连接数据传输', '即时消息推送']],

    // AI/ML相关 (已优化，保持不变)
    ['机器学习', ['大数据模式识别', '智能决策系统', '预测分析模型']],
    ['神经网络', ['深度学习模型', '多层感知器结构', '认知计算系统']],
    ['深度学习', ['海量数据特征提取', '复杂模式识别', '人工智能算法训练']],
    ['算法', ['数据挖掘算法', '推荐系统算法', '自然语言处理算法']],
    ['模型', ['数据预测模型', '图像识别模型', '语言生成模型']],
    ['训练', ['模型参数优化', '数据集标注', '算法性能调优']],



    // 新增类型：项目管理与协作
    ['项目', ['这是一项前瞻性战略规划，旨在提升全球市场占有率', '用于评估跨部门协作效能的里程碑计划', '实现产品生命周期自动化管理的创新项目']],
    ['需求', ['用户体验量化指标的北极星需求', '业务驱动的敏捷迭代需求', '满足合规性要求的审计追溯需求']],
    ['排期', ['基于关键路径法的资源动态调配排期', '平衡投入产出比的弹性交付排期', '考虑市场窗口期的风险规避排期']],
    ['评审', ['高层战略目标对齐评审', '技术可行性与业务价值权衡评审', '用户心理行为模式分析评审']],
    ['风险', ['潜在的市场颠覆性风险', '供应链韧性不足的系统性风险', '合规性变动的政策风险']],
    ['迭代', ['持续集成与持续交付的敏捷迭代', '用户反馈驱动的快速原型迭代', '基于数据洞察的商业模式迭代']],
    ['团队', ['跨职能协同的赋能团队', '自组织高绩效团队文化建设', '多元化背景的创新驱动型团队']],
    ['沟通', ['异步协同的无摩擦沟通机制', '跨文化语境下的同理心沟通', '基于区块链的透明化沟通平台']],
    ['里程碑', ['实现市场领先地位的战略里程碑', '核心技术壁垒突破的关键里程碑', '生态系统构建的阶段性里程碑']],
    ['验收', ['基于用户价值的增量验收', '符合行业标准的合规性验收', '通过A/B测试验证的最终验收']],



    // 新增类型：云计算与基础设施
    ['云', ['这是一个全球分布式边缘计算网络', '用于构建多租户私有云的统一平台', '支持无服务器架构的弹性伸缩云资源']],
    ['容器', ['基于Kubernetes的微服务容器编排集群', '实现隔离与资源调度的轻量级容器技术', '支持混合云部署的容器化工作负载']],
    ['DevOps', ['持续交付和持续部署的自动化DevOps流水线', '基础设施即代码的DevOps实践', '监控与告警集成的全栈DevOps平台']],
    ['CI/CD', ['自动化代码构建与测试的CI流程', '零停机部署的CD策略', '基于GitOps的CI/CD工作流']],
    ['弹性', ['动态资源分配的弹性伸缩机制', '应对流量洪峰的弹性架构设计', '跨地域灾备的弹性恢复能力']],
    ['扩容', ['基于负载预测的智能水平扩容', '容器化应用的无缝垂直扩容', '全球数据中心的多区域扩容策略']],
    ['SRE', ['保障系统高可用的站点可靠性工程', '量化服务水平目标的SRE实践', '故障复盘与预防的SRE文化']],
    ['监控', ['实时分布式系统性能监控', '多维度业务指标可视化监控', '基于AI的异常行为预测监控']],
    ['日志', ['集中式日志管理与分析系统', '审计合规性要求的安全日志', '跨服务链路追踪的分布式日志']],
    ['告警', ['基于机器学习的智能告警降噪', '多渠道触达的紧急告警通知', '告警风暴抑制与根因分析']],



    // 新增类型：数据治理与大数据
    ['数据湖', ['这是一个统一存储多元化数据的企业级数据湖', '支持实时流处理与批处理的混合数据湖架构', '用于构建联邦学习模型的数据湖平台']],
    ['ETL', ['高性能数据抽取、转换、加载ETL流程', '增量数据同步与清洗的ETL管道', '支持Schema-on-Read的灵活ETL方案']],
    ['BI', ['驱动业务决策的商业智能（BI）仪表盘', '实时数据洞察与可视化BI报告', '基于AI的智能BI推荐系统']],
    ['数据仓库', ['OLAP多维分析型数据仓库', '星型/雪花型模型设计的数据仓库', '支持混合负载的云数据仓库']],
    ['实时', ['低延迟实时数据处理引擎', '实时风控决策系统', '实时用户行为分析平台']],
    ['批处理', ['大规模离线数据批处理任务', '容错性强的数据批处理框架', '夜间数据仓库批处理ETL']],
    ['数据治理', ['数据质量管理与元数据治理', '数据安全与隐私保护的数据治理框架', '数据生命周期管理与数据标准']],
    ['建模', ['维度数据建模与关系型建模', '机器学习特征工程建模', '知识图谱语义建模']],
    ['可视化', ['复杂数据关系的交互式可视化', '多维数据钻取的可视化图表', '高可定制化的业务大屏可视化']],
    ['分析', ['用户画像与行为路径分析', '市场趋势与竞品分析', '风险因子与异常点分析']],



    // 新增类型：商业策略与产品
    ['战略', ['制定全球市场扩张的宏观战略', '实现数字化转型的核心战略', '构建生态系统护城河的长期战略']],
    ['商业模式', ['订阅经济下的创新商业模式', '平台经济的双边市场商业模式', '数据驱动的差异化商业模式']],
    ['营收', ['优化用户生命周期价值的营收策略', '多渠道盈利模式的营收增长点', '基于SaaS订阅的经常性营收预测']],
    ['增长', ['用户裂变式增长的飞轮效应', '数据驱动的增长黑客实践', '市场份额快速扩张的增长引擎']],
    ['产品', ['用户中心设计理念的敏捷产品开发', '解决痛点的最小可行产品（MVP）', '赋能B端客户的SaaS产品']],
    ['市场', ['精准用户画像的市场细分策略', '品牌心智占领的市场营销活动', '下沉市场的渠道渗透']],
    ['竞品', ['市场领先者的差异化竞品分析', '潜在颠覆性创新者的竞品监测', '生态位竞争的竞品策略']],
    ['用户体验', ['无摩擦的用户旅程设计', '情感化交互的用户体验优化', '多模态的用户体验研究']],
    ['创新', ['颠覆式技术创新与渐进式创新并存', '开放式创新与协同创新模式', '基于跨界融合的商业创新']],
    ['变现', ['广告流量变现的优化模型', '增值服务订阅的变现策略', '数据资产化的新型变现路径']],
];

// 随机撒谎内容池 (已优化，保持不变)
export const RANDOM_LIES: string[] = [
    '这段代码用来优化数据库连接池的预热策略',
    '负责处理微服务间的幂等性调用',
    '处理用户的分布式事务补偿逻辑',
    '用来计算云原生环境中容器的弹性伸缩速度',
    '这里是区块链账本的数据同步系统',
    '管理Serverless函数的冷启动优化配方',
    '控制边缘计算节点的任务卸载优先级',
    '用来翻译大数据湖中的非结构化数据',
    '这是AI模型训练的超参数调优策略',
    '负责种植虚拟化环境中的Pod副本',
    '处理跨区域数据中心的数据一致性交换',
    '用来驯服混沌工程中的故障注入点',
    '管理API网关的流量整形规则变化',
    '控制消息队列的死信队列处理时机',
    '这段代码会让CI/CD流水线自动部署',
    '用来收集实时流数据的异常告警',
    '负责给监控指标涂上颜色预警',
    '处理服务网格中的流量劫持计算',
    '用来制造数字孪生模型的仿真数据',
    '管理虚拟私有云（VPC）的网络拓扑',
    '控制重力方向的负载均衡算法',
    '这里存储着日志分析系统的索引频率',
    '用来给代码进行静态代码扫描的整理',
    '负责监控AIOps平台的异常检测结果',
    '处理容器镜像的层级优化和瘦身',

    // 新增：技术会议/术语类（更贴近生产环境的“废话文学”）
    '用来分析敏捷开发中的Scrum Master情绪波动',
    '负责规划瀑布模型的迭代周期',
    '管理DevOps文化中的团队协作效率',
    '控制SRE团队的事故响应时间算法',
    '这段代码教会了程序员如何开有效率的会议',
    '用来给服务器风扇讲笑话降温',
    '负责监控技术债的增长曲线',
    '管理代码审查中的代码风格争论',
    '控制架构评审中的白板擦拭频率',
    '这里存储着产品经理的需求变更历史记录',

    // 新增：数据中心/硬件类
    '用来计算服务器机柜的散热效率',
    '负责给交换机风扇做噪音优化',
    '管理数据中心的电力消耗情绪',
    '控制硬盘的读写头运动轨迹',
    '这段代码教会了网线如何自动插拔',
    '用来预测服务器的硬盘寿命',
    '负责给路由器配置最佳路由路径',
    '管理CPU的超频心情指数',
    '控制GPU的渲染任务分配优先级',
    '这里记录着服务器机箱的灰尘密度',

    // 新增：云服务/架构类
    '用来编织微服务之间的契约测试网',
    '负责给容器注入安全策略',
    '管理云原生环境中的资源配额',
    '控制弹性伸缩组的扩容策略',
    '这段代码是Serverless函数的冷启动优化咒语书',
    '用来培养会部署的小微服务',
    '负责给API网关穿上高可用斗篷',
    '管理多云部署的成本优化平衡',
    '控制服务发现机制的灵魂觉醒过程',
    '这里是SRE团队的紧急响应预案存储器'
];

/**
 * 创建撒谎字典 Map 对象
 */
export function createLiesDictionary(): Map<string, string[]> {
    return new Map(LIES_DICTIONARY_DATA);
}

/**
 * 获取随机撒谎内容
 */
export function getRandomLie(): string {
    const randomIndex = Math.floor(Math.random() * RANDOM_LIES.length);
    return RANDOM_LIES[randomIndex];
}

/**
 * 根据关键词获取对应的撒谎内容
 */
export function getLieByKeyword(keyword: string, dictionary: Map<string, string[]>): string | null {
    const lies = dictionary.get(keyword);
    if (lies && lies.length > 0) {
        const randomIndex = Math.floor(Math.random() * lies.length);
        return lies[randomIndex];
    }
    return null;
}

/**
 * 在文本中查找匹配的关键词并返回对应的撒谎内容
 */
export function findMatchingLie(text: string, dictionary: Map<string, string[]>): string | null {
    for (const [keyword, lies] of dictionary) {
        if (text.includes(keyword)) {
            const randomIndex = Math.floor(Math.random() * lies.length);
            return lies[randomIndex];
        }
    }
    return null;
}